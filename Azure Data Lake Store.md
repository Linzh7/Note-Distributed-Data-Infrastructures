[Azure Data Lake Store: A Hyperscale Distributed File Service for Big Data Analytics](https://dl.acm.org/doi/10.1145/3035918.3056100)

In the last decade, the size of the data has expanded rapidly, people are eager to explore hundreds of petabytes data in an interactive way at a low price. To achieve this goal, Microsoft has to develop a not only efficient also reliable system to enable Cosmos and other large-scale data analysis, named Azure Data Lake Store (ADLS).

The key concept of ADLS is tiered storage, which includes local tiers and remote tiers. Local tiers could provide quick access, while remote tiers support different storage systems and provide abstracts for developers to support their development environments. Local tiers are located on the computing nodes, which enable computing without downloading. That accelerates the processing of local data. Moreover, due to the large number of IO operations, we need to ensure that the remote layer has sufficient capacity to handle them.

Since developers want data that is fine-grained, a data block in ADLS is only 4 megabytes. As we know, handling multiple partitions of files is a challenge. To achieve consistency, ADLS proposed states named _sealed_ and _unsealed_. If one partition can connect to the next partition, it will be labeled as _sealed_. For the last partition, if the whole file will not be changed anymore, then the last partition will be marked as _sealed_. Moreover, UIDs are used to mark any partition, and ADLS maintains the list of UIDs to track any file. ADLS also proposes a new way to solve data modification and appending problems. For small modifications, ADLS will cache and merge them, so that they can be confirmed immediately.

To reduce the workload of developers, ADLS uses RSL-HK rings to facilitate status management and make other parts transparent to developers. In addition, RSL-HK rings also provide good performance and can maintain such performance when the CPU is not saturated, even when the task is heavy. As a business service, ADLS also provides key-based multi-authentication and encryption services to ensure the security of data and effective control of access rights. The RSL-HK ring also greatly improves the scalability of distributed storage systems, which is a very important consideration for business services.

The previous data processing systems have some disadvantages and thus cannot provide an efficient analysis system. Spark only offers coarse-grained data, which means nodes will spend some time searching for the data they need. MapReduce have a huge overhead on. Another example is that the storage node may not be the compute node, which results in extra overhead. The biggest breakthrough of ADLS compared to Hadoop is the number of nodes that can be managed by the cluster. At that time, the biggest Hadoop cluster can manage 5k nodes. However, ADLS can provide at least one more order of magnitude of node management capability. Additionally, in HDFS, there is only one NameNode, so it is difficult to scale HDFS to a large cluster. In ADLS, RSL-HK rings enable high performance and high scalability at the same time.

We have to say, those advantages make ADLS a very competitive business service.